@model ModalBootstrap.Models.eChartViewModel
@{
    ViewBag.Title = "eChartHomeNew";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

    <div class="container">
        <!-------->
        <div id="content">
            <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
                <li class="active"><a href="#Summary" data-toggle="tab">Patient Summary</a></li>
                <li><a href="#Treatments" data-toggle="tab">Treatments</a></li>
                <li><a href="#EHR" data-toggle="tab">EHR</a></li>
                <li><a href="#Coverage" data-toggle="tab">Coverage & Eligibility</a></li>
                <li><a href="#Documents" data-toggle="tab">Patient Documents</a></li>
           </ul>
            <div id="my-tab-content" class="tab-content">
                @* Summary Tab - Start here*@
                    <div class="tab-pane active" id="Summary">
                        <h3 class="text-success">@ViewBag.Message</h3>
                   
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="panel panel-default" style="box-shadow: 10px 10px 5px grey">
                                    <div class="panel-heading">
                                        <h5>Basic Details</h5>
                                    </div>
                                    <div class="panel-body">
                                        @Html.Partial("_detailseChartPartial", Model.chart)
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                            <div class="col-md-6">
                                <div class="panel panel-primary" style="box-shadow: 10px 10px 5px grey">
                                    <div class="panel-heading">
                                        <h5>Treatments</h5>
                                    </div>
                                    <div class="panel-body" style=" border-width:5px;">
                                        @Html.Partial("_indexShowTreatmentsPartial", Model.treatments)

                                    </div>
                                </div>
                            </div>
                                <div class="col-md-6">
                                    <div class="panel panel-primary" style="box-shadow: 10px 10px 5px grey">
                                        <div class="panel-heading">
                                            <h5>Financial Summary</h5>
                                        </div>
                                        <div class="panel-body" style=" border-width:5px;">
                                            Financial Summary

                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    </div>
              @* Summary Tab - ends here*@
                @* Treatments - Start here*@
                <div class="tab-pane" id="Treatments">
                     <div class="container">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="panel panel-primary" style="box-shadow: 10px 10px 5px grey">
                                    <div class="panel-heading">
                                        <h5>Treatments</h5>
                                    </div>
                                    <div class="panel-body" style=" border-width:5px;">
                                        @Html.Partial("_indexTreatmentsPartial", Model.treatments)

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="panel panel-primary" style="box-shadow: 10px 10px 5px grey">
                                    <div class="panel-heading">
                                        <h5>Treatment Items</h5>
                                    </div>
                                    <div class="panel-body" style=" border-width:5px;">
                                        @Html.Partial("_indexTreatmentListPartial", Model.treatmentItems)

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @* Treatments - Ends here*@
                @* EHR Tab - Start here*@
                <div class="tab-pane" id="EHR">
                    @* <h3 class="text-success">Create a new chart!</h3>*@

                    <div class="container">
                        <div class="row">
                            <div class="col-md-9">
                                <div class="panel panel-info" style="box-shadow: 10px 10px 5px grey">
                                    <div class="panel-heading">
                                        <h5>EHT Tab</h5>
                                    </div>
                                    <div class="panel-body">
                                        EHR Details tab
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                @* EHR - Ends here*@
                @* Documents Tab - Start here*@
                <div class="tab-pane" id="Coverage">
                    @* <h3 class="text-success">Create a new chart!</h3>*@

                    <div class="container">
                        <div class="row">
                            <div class="col-md-9">
                                <div class="panel panel-info" style="box-shadow: 10px 10px 5px grey">
                                    <div class="panel-heading">
                                        <h5>Coverage Tab</h5>
                                    </div>
                                    <div class="panel-body">
                                        Patient Coverage tab
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                @* Documents - Ends here*@
                @* Documents Tab - Start here*@
                <div class="tab-pane" id="Documents">
                    @* <h3 class="text-success">Create a new chart!</h3>*@

                    <div class="container">
                        <div class="row">
                            <div class="col-md-9">
                                <div class="panel panel-info" style="box-shadow: 10px 10px 5px grey">
                                    <div class="panel-heading">
                                        <h5>Documents Tab</h5>
                                    </div>
                                    <div class="panel-body">
                                        Patient Documents tab
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                @* Documents - Ends here*@
                               
            </div>
        </div>
        
    </div> <!-- container -->

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryui")
@Scripts.Render("~/bundles/jqueryval")
@Scripts.Render("~/bundles/bootstrap")


<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $('#tabs').tab();
    });


    $(function () {
        
        //Get the first tab in document and will assume will always use first one
        var selectedTab = $(document).find('div[class^="tab-content"]').first();
        
        //Navigation button, select tab when button click.
        $(".form-group").on('click', ':submit', function () {
            var selected = selectedTab.tabs("option", "active");
            
            if (this.id == "btnMoveLeftTab") {
                if (selected >= 1) {
                    selectedTab.tabs("option", "active", selected - 1);
                }
            } else {
                alert("ccc");
                // Activate the third panel
                $("#tabs").tabs("option", "active", 2);
               // selectedTab.tabs("option", "active", selected + 1);
            }
        });

        //Tab activated, only display next on first tab, and previous in last tab
        selectedTab.tabs({
            
            activate: function (event, ui) {
                alert("aaa");
                var active = selectedTab.tabs("option", "active");
                var selected = selectedTab.tabs("option", "active");

                if (active == 0) {
                    $("#btnMoveLeftTab").hide();
                    alert("bbb");
                } else if (selectedTab.find("li:not(li[style='display:none'])").size() - 1 == selected) {
                    $("#btncreatechart").hide();
                } else {
                    $("#btnMoveLeftTab").show();
                    $("#btncreatechart").show();
                }

            }
        });
        //First time loading hide the previous button
        $("#btnMoveLeftTab").hide();

    });
    </script>
    
    